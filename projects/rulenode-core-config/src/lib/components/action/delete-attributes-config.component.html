<section [formGroup]="deleteAttributesConfigForm" fxLayout="column">
  <div class="tb-root-state-entity-switch" fxLayoutAlign="start center" style="padding-left: 0px; margin-bottom: 10px">
    <mat-slide-toggle class="root-state-entity-switch"
                      formControlName="useScopeAsPattern">
    </mat-slide-toggle>
    <label style="margin-left: 5px;" class="tb-small root-state-entity-label">{{ 'tb.rulenode.use-scope-as-pattern' | translate }}</label>
  </div>
  <mat-form-field *ngIf="!deleteAttributesConfigForm.get('useScopeAsPattern').value">
    <mat-label>{{ 'attribute.attributes-scope' | translate }}</mat-label>
    <mat-select required
                class="tb-entity-type-select" matInput formControlName="scope">
      <mat-option *ngFor="let scope of attributeScopes" [value]="scope">
        {{ telemetryTypeTranslationsMap.get(scope) | translate }}
      </mat-option>
    </mat-select>
  </mat-form-field>
  <mat-form-field *ngIf="deleteAttributesConfigForm.get('useScopeAsPattern').value">
    <mat-label>{{ 'tb.rulenode.attributes-scope' | translate }}</mat-label>
    <input required matInput formControlName="scope">
    <mat-error *ngIf="deleteAttributesConfigForm.get('scope').hasError('required')">
      {{ 'tb.rulenode.attributes-scope-required' | translate }}
    </mat-error>
    <mat-hint [innerHTML]="'tb.rulenode.general-pattern-hint' | translate | safeHtml"></mat-hint>
  </mat-form-field>
  <mat-form-field floatLabel="always" class="mat-block" style="padding-bottom: 16px;">
    <mat-label></mat-label>
    <mat-chip-list #latestTimeseriesChipList>
      <mat-chip
        *ngFor="let key of deleteAttributesConfigForm.get('keys').value;"
        (removed)="removeKey(key)">
        {{key}}
        <mat-icon matChipRemove>close</mat-icon>
      </mat-chip>
      <input matInput type="text" placeholder="{{ 'tb.rulenode.attributes-keys' | translate }}"
             style="max-width: 200px;"
             [matChipInputFor]="latestTimeseriesChipList"
             [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
             (matChipInputTokenEnd)="addKey($event)"
             [matChipInputAddOnBlur]="true">
    </mat-chip-list>
    <mat-hint [innerHTML]="'tb.rulenode.general-pattern-hint' | translate | safeHtml"></mat-hint>
  </mat-form-field>
</section>
