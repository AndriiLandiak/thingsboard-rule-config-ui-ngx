<section [formGroup]="deviceAttributesConfigForm" fxLayout="column">
  <tb-fieldset-component [label]="'tb.rulenode.device-relations-query' | translate" required="true">
    <ng-template tbAppWidgetContentTemplate>
      <tb-device-relations-query-config
        required
        formControlName="deviceRelationsQuery"
        style="width: 100%">
      </tb-device-relations-query-config>
    </ng-template>
  </tb-fieldset-component>
  <tb-fieldset-component [label]="'tb.rulenode.related-device-attributes' | translate" style="margin-top: 12px" required="true">
    <ng-template tbAppWidgetContentTemplate>
      <tb-select-attributes style="margin-bottom: 8px" formControlName="attributesControl"></tb-select-attributes>
    </ng-template>
  </tb-fieldset-component>
  <tb-slide-toggle style="margin: 30px 0px 25px;"
                   formControlName="tellFailureIfAbsent"
                   [slideToggleName]="'tb.rulenode.tell-failure' | translate"
                   [slideToggleTooltip]="'tb.rulenode.tell-failure-tooltip' | translate">
  </tb-slide-toggle>
  <tb-msg-metadata-chip formControlName="fetchTo" [labelText]="'tb.rulenode.add-selected-attributes-to' | translate"></tb-msg-metadata-chip>
</section>
