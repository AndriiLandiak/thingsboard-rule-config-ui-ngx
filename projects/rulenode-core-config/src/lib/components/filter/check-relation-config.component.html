<section [formGroup]="checkRelationConfigForm" fxLayout="column">
  <tb-fieldset-component defaultBottomPadding="false"
                         [label]="'tb.rulenode.relation-search-parameters' | translate"
                         required="true">
    <div fxFlex fxLayout="column">
      <mat-form-field class="mat-block">
        <mat-label>{{ 'relation.direction' | translate }}</mat-label>
        <mat-select formControlName="direction" required>
          <mat-option *ngFor="let direction of entitySearchDirection" [value]="direction">
            {{ entitySearchDirectionTranslationsMap.get(direction) | translate }}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <tb-relation-type-autocomplete
        required
        [label]="'tb.rulenode.relation-type' | translate"
        formControlName="relationType">
      </tb-relation-type-autocomplete>
      <tb-slide-toggle defaultPadding="false" class="slide-toggle" fxFlex formControlName="checkForSingleEntity"
                       [slideToggleName]="'tb.rulenode.check-relation-to-specific-entity' | translate"
                       [slideToggleTooltip]="'tb.rulenode.check-relation-to-specific-entity-tooltip' | translate">
      </tb-slide-toggle>
      <div *ngIf="checkRelationConfigForm.get('checkForSingleEntity').value">
        <tb-entity-type-select
          showLabel
          required
          formControlName="entityType">
        </tb-entity-type-select>
        <tb-entity-autocomplete
          fxFlex
          required
          *ngIf="checkRelationConfigForm.get('entityType').value"
          [entityType]="checkRelationConfigForm.get('entityType').value"
          formControlName="entityId">
        </tb-entity-autocomplete>
      </div>
    </div>
  </tb-fieldset-component>
</section>
